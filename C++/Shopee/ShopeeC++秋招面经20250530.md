自我介绍：本硕985，科班，大约半年前算法转开发，今年秋招真的太难了，太卷了，刚刚收到shopee的意向书，来回馈牛客。

总体来说shopee的面试体验很好，态度很好，流程很快，觉得是棒棒的公司。

8.19号 笔试，当时有好几场笔试，笔试成绩实在不记得了，印象中不是很难。

### 8.24一面：50min

时间太久，有些遗忘了，写一写记得起来的
语言基础：
Python的数据结构，GIL，装饰器，内存管理
C++多态，多继承，static，智能指针, stl中的vector,list,set,map

**OS基础：**
进程和线程，哪些锁
虚拟内存

## 孤儿进程和僵尸进程，产生的原因，什么样的代码会产生僵尸进程？

### 僵尸进程
+ 父进程显式调用 wait() 或 waitpid() 来回收子进程。
+ 父进程可以注册 SIGCHLD 信号的处理函数，在处理函数中调用 wait() 或 waitpid()。
+ 如果父进程先于子进程退出，子进程会变成孤儿进程，由 init 进程接管并回收，不会成为僵尸进程。"Double Fork"技巧：父进程 fork 出子进程后立即退出，子进程再 fork 出孙子进程，然后子进程也退出。这样孙子进程的父进程（即原先的子进程）退出了，孙子进程会成为孤儿进程被 init 接管。这常用于创建守护进程。

### 总结对比

| 特性         | 僵尸进程 (Zombie)                      | 孤儿进程 (Orphan)                    |
| ------------ | -------------------------------------- | ------------------------------------ |
| **谁先终止** | 子进程先终止                           | 父进程先终止                         |
| **原因**     | 父进程未调用 `wait()`/`waitpid()` 回收 | 父进程已退出，子进程仍在运行         |
| **状态**     | 进程表条目保留，无实际运行实体         | 正常运行，但父进程ID变为 `init` 进程 |
| **危害性**   | 可能耗尽PID和进程表条目，导致系统问题  | 基本无害，会被 `init` 进程接管和回收 |
| **处理**     | 父进程需调用 `wait()` 或处理 `SIGCHLD` | 操作系统自动由 `init` 进程接管       |

### 父进程感知机制
+ 阻塞等待 (Blocking Wait): 这是最简单直接的方式。
+ 非阻塞轮询 (Non-blocking Polling): 允许父进程在不阻塞自身的情况下检查子进程状态。
+ 信号通知 (Signal Notification - SIGCHLD): 这是最高效和最常用的异步通知机制。
  + `WNOHANG` `waitpid`非阻塞等待
  + `SIGCHLD` 发送信号，内核上下文切换，运行已经注册的**信号处理器**，`while`循环非阻塞等待处理所有的子进程的`waitpid()`

### 主要区别点

| 特性                | `wait()`                                 | `waitpid()`                                                  |
| ------------------- | ---------------------------------------- | ------------------------------------------------------------ |
| **等待的子进程**    | 等待调用进程的**任何一个**子进程终止。   | 可以通过 `pid` 参数指定等待的子进程：&lt;ul>&lt;li>`pid > 0`: 等待进程ID为 `pid` 的特定子进程。&lt;/li>&lt;li>`pid == -1`: 等待任何子进程（行为与 `wait()` 类似）。&lt;/li>&lt;li>`pid == 0`: 等待进程组ID与调用进程相同的任何子进程。&lt;/li>&lt;li>`pid < -1`: 等待进程组ID为 `pid` 绝对值的任何子进程。&lt;/li>&lt;/ul> |
| **阻塞行为**        | 总是**阻塞**执行，直到有一个子进程终止。 | 默认阻塞。但可以通过 `options` 参数中的 `WNOHANG` 选项实现**非阻塞**调用。如果设置了 `WNOHANG` 且没有子进程立即改变状态，`waitpid()` 会返回0而不是阻塞。 |
| **等待的事件类型**  | 只等待子进程**终止**。                   | 默认等待子进程终止。但可以通过 `options` 参数中的 `WUNTRACED` 选项来等待那些因信号而**停止** (stopped) 的子进程；通过 `WCONTINUED` 选项等待那些之前被停止后又被信号 `SIGCONT` **继续** (continued) 运行的子进程。 |
| **灵活性和控制**    | 功能相对简单，控制较少。                 | 提供更细致的控制，例如支持作业控制（等待特定进程组的子进程，或等待子进程停止/继续）。 |
| **返回值 (成功时)** | 返回已终止子进程的PID。                  | 返回状态已改变的子进程的PID。如果设置了 `WNOHANG` 且没有子进程状态改变，返回0。 |
| **返回值 (失败时)** | 返回-1，并设置 `errno`。                 | 返回-1，并设置 `errno`。                                     |



**数据库基础：**
ACID，可重复读和读已提交的区别，如何实现
B+树和B树的区别，为什么用B+树不是B树

**计网：**
TCP/UDP
TCP比UDP安全性相对差，为什么(因为我说了安全性问题)
TCP如何控制发送数据的大小
TCP拥塞控制
介绍一下I/O多路复用 select,poll,epoll，fd的大小可以改变么
socket编程有用过么，介绍一下

编程题：两数之和 ?，最优解一遍hash，大概是最简单的编程题了吧hhhh

### 8.28号二面：40min

自我介绍，围绕项目
B+树种的关键字大小可以设置么？如何设置
图的遍历
介绍一下 dijkstra算法， A*算法，A*算法的缺点在哪。
场景题，10个1G数据，内存200多MB，如何去重(1G数据内部可能有重复，不同1G数据之间可能有重复，数据有日期，大小，以及数字编号，靠数字编号来分辨是否重复)
兴趣爱好

### 9.2号HR面：

10多分钟吧好像，记得不是很长
对前两面面试官评价
工作意向地，选择工作时看中什么
期望薪资
还有什么想问的这些

9.7号意向书
秋招不易，愿大家offer多多，早日上岸