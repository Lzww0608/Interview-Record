# 智力题

## 1、两个人轮流抛硬币，谁先抛到正面谁就赢了，求第一个抛硬币的人获胜的概率？（字节/阿里）

设甲先抛。设甲胜率为x。则第一次甲抛了反面后，乙胜率为x，从而甲胜率+乙胜率=x+0.5x=1，从而x=2/3。

![img](file:///C:\Users\HP\AppData\Local\Temp\QQ_1722608543879.png)



## 2、抛骰子，连续两次6则结束，要抛多少次？

设平均需要A次才能掷出66。

$$
A = \begin{cases} 
  1 \text{次6, 第二次6,} & 2, & \text{概率为} \frac{1}{36} \\
  \text{第一次6, 第二次不6,} & A + 2, & \text{概率为} \frac{5}{36} \\
  \text{第一次不6,} & A + 1, & \text{概率为} \frac{30}{36}
\end{cases}
$$

$$
A = \frac{1}{36} \times 2 + \frac{5}{36} (A + 2) + \frac{30}{36} (A + 1)
$$

解得： A = 42

设平均需要A次才能掷出66。



## 3、掷一枚不均匀的硬币，正面概率0.7,反面概率是0.3,如何高效获得一个概率0.5的事件？

Von Neumann抽样法：

1. 连续掷两次硬币，记录结果。
2. 如果两次结果不同（即一次正面一次反面，或一次反面一次正面），则可以决定该事件为0.5的概率事件：
   - 如果第一次是正面，第二次是反面，则返回事件A。
   - 如果第一次是反面，第二次是正面，则返回事件B。
3. 如果两次结果相同（即都是正面或都是反面），则忽略这次掷硬币，重新开始第一步。

```c++
#include <iostream>
#include <random>

// 模拟正面概率为0.7的硬币
bool biased_coin() {
	static std::random_device rd;
	static std::mt19937 gen(rd());
	static std::bernoulli_distribution d(0.7); 
	return d(gen);
}

bool fair_coin() {
	while (true) {
		bool toss1 = biased_coin();
		bool toss2 = biased_coin();
		if (toss1 != toss2) {
			return toss1;
		}
	}
}

int main() {
	int heads = 0;
	int tails = 0;

	for (int i = 0; i < 10000; ++i) {
		if (fair_coin()) {
			heads += 1;
		}
		else {
			tails += 1;
		}
	}

	std::cout << "Heads: " << heads << std::endl;
	std::cout << "Tails: " << tails << std::endl;

	return 0;
}
```





## 4、红球50个，蓝球50个，放在两个盒子里，怎么放拿红球的概率最高？（阿里）

假设有两个盒子A和B：

- **盒子A**：放1个红球。
- **盒子B**：放49个红球和50个蓝球。

每次抽取时，我们随机选择一个盒子，从中抽取一个球。选择盒子A或B的概率是相同的，即 1/2。

### 计算概率

1. **从盒子A中拿到红球的概率**：
   盒子A中只有1个红球，所以从盒子A中抽到红球的概率是100%，即：
   $$
   P(\text{Red Ball from Box A}) = 1
   $$

2. **从盒子B中拿到红球的概率**：
   盒子B中有49个红球和50个蓝球，共99个球。所以从盒子B中抽到红球的概率是：
   $$
   P(\text{Red Ball from Box B}) = \frac{49}{99}
   $$

### 总概率
因为每次选择盒子A或B的概率是相同的，所以总的红球抽取概率为：
$$
P(\text{Red Ball}) = P(\text{Choose Box A}) \times P(\text{Red Ball from Box A}) + P(\text{Choose Box B}) \times P(\text{Red Ball from Box B})
$$
代入具体值：
$$
P(\text{Red Ball}) = \frac{1}{2} \times 1 + \frac{1}{2} \times \frac{49}{99}
$$
$$
P(\text{Red Ball}) = \frac{1}{2} + \frac{1}{2} \times \frac{49}{99}
$$
$$
P(\text{Red Ball}) = \frac{1}{2} + \frac{49}{198}
$$
$$
P(\text{Red Ball}) = \frac{99}{198} + \frac{49}{198} = \frac{148}{198}
$$
$$
P(\text{Red Ball}) \approx 0.747
$$

### 结论
通过将1个红球单独放在一个盒子中，其余红球和所有蓝球放在另一个盒子中，拿到红球的总概率最高。这个策略的直观解释是：通过确保一个盒子里一定有红球，我们提高了拿到红球的总体概率。





## 5、假如有8个球，其中一个球偏重，给你一个天平，最少称几次能找出偏重的球？（阿里）

+ 第一次称重：将任意三个小球放在天平的左边，将另外三个小球放在右边，剩下两个小球放在一边。如果天平平衡，则说明偏重的小球在未放入天平的那组两个小球中。进入步骤2。如果天平不平衡，则说明偏重的小球在天平较重的那组小球中。进入步骤3。
+ 第二次称重（步骤2）：将未放入天平的两个小球中的一个放在天平的左边，将另一个小球放在天平的右边。如果天平不平衡，则说明找到较重的那个小球。
+ 第二次称重（步骤3）：将这三个小球，取前2球放在天平上，如果相等，说明余下的那个球是我们要找的那个偏重小球，如果天平不等，直接获得结果。



## 6、一副扑克54张，平均分成2份，求这2份都有2张A的概率？

**分母：**

分析：54张牌，分成2份，每份应该27张

第一步：我们从54张牌取27张，作为第一份，就是C(54,27)

第二步：剩下的27张牌取27张，作为第二份，就是C(27,27)

这样分母就有了：

把第一步和第二步相乘，就是54张牌，随机平均分成2份的组合数量。

分母： C(54,27)*C(27,27)

**分子：**

一副牌有4张A，50张非A的牌。

为了保证两份都要有2张A，在挑第一份的时候，应该先在4张A里面挑2个A，50张非A的牌里挑25个非A。然后第二份就是在剩下的2个A里挑选2个，25个非A里面挑25张。

第一步：从4张A里挑2张A，50张非A里挑25张，C(4,2)*C(50,25)

第二步：从2张A里挑2张A，25张非A里挑25张，C(2,2)*C(25,25)

分子：C(4,2)*C(50,25)*C(2,2)*C(25,25)

**所以概率是：**

C(4,2)*C(50,25)*C(2,2)*C(25,25) / C(54,27)*(C27,27)

=(27 * 13)/(53 * 17)



## 7、一副扑克54张，平均分成2份（或者三份），大小王在一份的概率？（阿里）

### 情况1：分成2份

每份有27张牌。

- 总的组合数：从54张牌中选出27张的组合数是 

$$
C(54, 27)
$$

- 大小王在同一份的情况：首先选择把大小王放在一份中，这一份剩下的25张牌需要从52张普通牌中选出，所以组合数为 

$$
C(52, 25)
$$

因此，大小王在同一份的概率为：

$$
P(\text{大小王在同一份}) = \frac{C(52, 25)}{C(54, 27)}
$$

### 情况2：分成3份

每份有18张牌。

- 总的组合数：从54张牌中选出18张的组合数是 

$$
C(54, 18)
$$

但是由于有3份，故总的组合数是 

$$
C(54, 18) \times C(36, 18)
$$

- 大小王在同一份的情况：将大小王放在同一份后，从52张普通牌中选出16张，因此组合数为 

$$
C(52, 16)
$$

而剩下的两份可以从36张牌中随意选出18张，所以组合数为 

$$
C(36, 18)
$$

因此，大小王在同一份的概率为：

$$
P(\text{大小王在同一份}) = \frac{C(52, 16) \times C(36, 18)}{C(54, 18) \times C(36, 18)}
$$

简化后，大小王在同一份的概率为：

$$
P(\text{大小王在同一份}) = \frac{C(52, 16)}{C(54, 18)}
$$

### 总结

- 分成2份时，大小王在同一份的概率为： 

$$
\frac{C(52, 25)}{C(54, 27)}
$$

- 分成3份时，大小王在同一份的概率为： 

$$
\frac{C(52, 16)}{C(54, 18)}
$$



## 8、一副扑克（52张，不含大小王），抽出两张牌，一红一黑（不考虑先后顺序）的概率是多少？

要计算从一副 52 张扑克中抽出两张牌，一红一黑的概率，我们可以按照以下步骤来计算：

1. **计算抽出两张牌的总组合数：**

   一副扑克有 52 张牌，抽出两张牌的组合数可以用组合公式 \( C(n, k) \) 来计算，其中 \( n \) 是总数，\( k \) 是抽出的数目。

   $$
   C(52, 2) = \frac{52 \times 51}{2} = 1326
   $$

2. **计算一红一黑的组合数：**

   一副扑克有 26 张红牌和 26 张黑牌。要抽出一红一黑，可以先从 26 张红牌中抽出一张，再从 26 张黑牌中抽出一张（或者反过来），组合数为：

   $$
   C(26, 1) \times C(26, 1) = 26 \times 26 = 676
   $$

3. **计算概率：**

   概率就是一红一黑的组合数占所有两张牌组合数的比例：

   $$
   P(\text{一红一黑}) = \frac{676}{1326} = \frac{26}{51}= \approx 0.51
   $$

所以，从一副 52 张的扑克牌中抽出两张牌，一红一黑的概率大约是 **51%**。





## 9、50人的班级，至少两人同一天生日的概率是多少？

因此，50人的班级中至少两人同一天生日的概率为：

$$
P(\text{至少两人同一天生日}) = 1 - P(\text{所有人生日都不同})
$$

其中，

$$
P(\text{所有人生日都不同}) = \frac{365 \times 364 \times \dots \times (365 - 49)}{365^{50}}
$$

所以，

$$
P(\text{至少两人同一天生日}) = 1 - \frac{365 \times 364 \times \dots \times 316}{365^{50}}
$$





## 10、一个5升的瓶子，一个4升的瓶子，怎么弄出3升的水？

**将4升的瓶子装满水**。
现在4升瓶子里有4升水，5升瓶子是空的。

**将4升瓶子里的水全部倒入5升瓶子里**。
现在4升瓶子是空的，5升瓶子里有4升水。

**再次将4升瓶子装满水**。
现在4升瓶子里有4升水，5升瓶子里有4升水。

**将4升瓶子里的水倒入5升瓶子，直到5升瓶子装满**。
5升瓶子里还需要1升水才能满，所以你将4升瓶子中的1升水倒入5升瓶子中。现在5升瓶子满了，4升瓶子里剩下3升水。



## 11、64匹马，8个赛道。问最少比赛多少场，选出跑的最快的4匹马？（腾讯）

### 1. 第一步：分组比赛

将64匹马分成8组，每组8匹马。让每组的8匹马分别进行一场比赛，这样一共需要8场比赛。

### 2. 第二步：选出每组前几名

**在8组中选每组第1名的马进行比赛**，按名次排序（重新对马进行标记，第一名为A1，其次为B1、C1、D1…）。这时A1为全场最快，直接晋级。同时知道A1>B1>C1>D1>E1>F1>G1>H1，并且由第一轮的结果可知D1>D2>D3>D4。

因为总共需要选出4匹，**综上可得出A1>B1>C1>D1>D2>D3>D4，所以D2、D3、D4一定被淘汰**。同理，B4、C3-4、D2-4、E1-4、F1-4、G1-4、H1-4被淘汰。

### 3. 第三步：晋级赛

目前已知A1为全场最快，已经晋级。现在需要在A2-4、B1-3、C1-2、D1这**9匹马(只有8条跑道)中选择最快的3匹**，同时知道B1>C1>D1**。这时D1是最危险的，因为已经知道有两匹马比它快，**我们选择除了D1之外的8匹马进行比赛。

### 4. 第四步：选出最终最快的4匹马

**加赛的情况**：

如果**C1以第二名的成绩晋级**（除D1比赛中的第二名，已知B1>C1，所以C1不可能是第一名），那么最终第三名（除D1比赛中的第三名）在A2-4、B2-3、C2中产生，**并不能知道D1与它们的快慢**，所以需要D1与A2-4、B2-3、C2共7匹马再进行一次比赛，第一名进入TOP4（是总成绩中的第四名）。

 

**不加赛的情况**：

如果**C1以第三至七名的成绩完赛**（除D1的比赛，已知C1>C2，所以C1不可能是第八名），那么除D1这8匹马中的前三名就直接进入TOP4（总成绩中的第二、三、四名），无需进行加赛。

### 总结：

![1723727370311](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\1723727370311.png)

在前两轮后我们知道B1>C1>D1，也知道A2>A3>A4。同理，我们也可以**将A4排除**，让A2-3、B1-3、C1-2、D1这8匹马进行比赛，再**以A3的排名进行分情况讨论**。



## 12、岛上有100只老虎和1只羊，老虎可以吃草但是更愿意吃羊。假设A:每次老虎吃完羊之后自己就变成了羊，假设B:所有老虎都很聪明也很理性，它们都想活下去；请问这只羊会被吃吗？（字节）

1. **当只有1只老虎和1只羊时**：
   老虎会吃掉羊，因为吃掉羊之后，老虎会变成唯一的羊，岛上只有它自己，之后也不会再有其他老虎吃掉它。所以1只老虎时，羊会被吃掉。
2. **当有2只老虎和1只羊时**：
   假设其中一只老虎吃了羊，它会变成羊，这时岛上就变成1只老虎和1只羊的情况。但由于我们之前推导出1只老虎和1只羊时，老虎会吃掉羊，那么在这种情况下，变成羊的老虎很可能被剩下的老虎吃掉。因此，当有2只老虎时，任何一只老虎都不会吃羊，因为它不想在变成羊后被另一只老虎吃掉。
3. **当有3只老虎和1只羊时**：
   如果一只老虎吃了羊，它会变成羊，这时岛上就变成2只老虎和1只羊的情况。但在2只老虎时，老虎不会吃羊（因为吃羊的风险太大），所以3只老虎时会有一只老虎愿意吃羊，因为它变成羊之后不会被剩下的老虎吃掉。
4. **总结规律**：
   可以推导出一种模式：
   - 当老虎的数量为奇数时，会有老虎选择吃掉羊。
   - 当老虎的数量为偶数时，没有老虎愿意吃羊，因为吃掉羊的老虎会被变成羊，继而被其他老虎吃掉。

因此，当有100只老虎和1只羊时，由于100是偶数，没有任何一只老虎会愿意吃羊。**结论是这只羊不会被吃掉**。



## 13、瓶子换饮料问题：1000瓶饮料，3个空瓶能换1瓶饮料，问最多喝多少饮料？

```c++
#include <iostream>

const int K = 3;

int exchangeBottle(int fullBottle) {
	int ans = 0, emptyBottle = 0;
	while (fullBottle > 0) {
		ans += fullBottle;
		emptyBottle += fullBottle;
		fullBottle = emptyBottle / K;
		emptyBottle %= K;
	}
	
	return ans;
}


int main() {
	std::cout << exchangeBottle(1000) << std::endl;// 1499
}
```





## 14、烧香/绳子问题，有两根不均匀的香，燃烧完都需要一个小时，问怎么确定15分钟的时长？

**点燃第一根香的两端**：将第一根香的两端同时点燃。由于香是不均匀的，虽然你不能确定每个部分燃烧的速度，但可以确定的是，这根香会在30分钟内完全燃烧完。

**同时点燃第二根香的一端**：在点燃第一根香的同时，点燃第二根香的一端。这根香会在一个小时内燃烧完。

**当第一根香完全烧完时（30分钟）**，立即点燃第二根香的另一端。

**第二根香的另一端被点燃后**，由于两端都在燃烧，剩下的一半香会在15分钟内燃烧完。





蚊香一盘烧完一个小时，给两盘蚊香怎么计时45分钟?



点燃一个蚊香的两个端点，另一个蚊香的一个端点。两个端点都被点燃的蚊香烧完的时候，已经过了半个小时，然后点燃另一个蚊香的没有被点燃的那个端点。再过15分钟全部烧完，即计时45分钟。



## 15、63瓶药剂，1瓶毒药，小白鼠喝了 3天会死，一只小白鼠可以混合喝，问只剩3天，最少需要多少只小白鼠？

我们将 63 瓶药剂编号为 1 到 63，分别对应二进制数 000000000000000000 到 111111111111111111。

每个二进制数可以表示为 6 位（二进制的表示法），即 63 的二进制是 111111111111111111。

因此，我们需要 6 只小白鼠来完成实验。每只小白鼠对应一个二进制位。如果一个药剂编号的某一位是 1，那这一位所对应的小白鼠就会喝到该药剂的混合物。