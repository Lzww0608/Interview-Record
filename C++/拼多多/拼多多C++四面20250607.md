# 拼多多C++四面20250607

#### 拼多多一面

8.10 45min

给一个字符串str，将其转换为相应的long值，如果不是合法数字则返回null

问了下面试官，可能会非法，不会溢出

## opk（快速选择or最大堆，还说了为啥快速选择是On时间复杂度

O(n) + O(n / 2) + ... + O(n / k) + ...

O(n * (1 + n / 2 + n /4 + ... + ...)) = O(n * 2)



海量数据topk（我答的是单机解法，最后把面试官搞得有点晕，最后直接把编程之美这本书搬出来了

## 两个很大的有序数组，求交集（先说了双指针，经过提示，如果交集稀疏可以用二分

+ 双指针 O(m + n)
+ 二分查找 m >> n O(n * logm)
+ 数据集过大，无法放入内存 —— 数据流 + 双指针
+ 分布式MapReduce
  + **Map阶段：** 启动多个Mapper任务，每个任务读取一部分数据。对于读取的每个数字`x`，输出一个键值对`(x, 1)`。
  + **Shuffle & Reduce阶段：** MapReduce框架会对键值对按`key`（也就是数字`x`）进行排序和分组。Reducer会收到一个`key`和一组`value`，例如 `(123, [1, 1])`。如果一个`key`同时来自两个数组（我们可以通过给来源打标签来区分，例如`(x, 'A')` 和 `(x, 'B')`），并且Reducer收到了来自两个不同标签的`value`，那么这个`key`就属于交集。”



有向图如何判定是否有环（我很心虚的说拓扑排序，但是展开讲的时候有点磕磕绊绊的

理想答案：方法是重复寻找一个入度为0的顶点，将该顶点从图中删除（即放进一个队列里存着，这个队列的顺序就是最后的拓扑排序），并将该结点及其所有的出边从图中删除（即该结点指向的结点的入度减1），最终若图中全为入度为1的点，则这些点至少组成一个回路。

#### 拼多多二面

8.22 1h

聊实习

消息队列kafka，问了一些浅层的，如何持久化，消费了会不会删除消息，如何维护进度，深层我就不熟悉了，坦白在阿里实习时才接触，我写cpp的了解不深

问我熟悉哪种语言，我说c++，但面试官应该是写java的

c++多态怎么了解、虚函数是什么

## 友元函数是什么

它是一个**非成员函数**，但通过在类定义中使用`friend`关键字声明，被授予了访问该类`private`和`protected`成员的权限。它的存在主要是为了解决一些与类紧密相关但又不适合作为成员函数的外部函数的设计问题。

其关键特性包括：它没有`this`指针，调用时需显式传入对象；友元关系是单向的、不可继承、也不可传递的。

最经典和必要的用例是**重载流插入/提取运算符（<</>>）**。因为这类运算符的左操作数是流对象（如`std::cout`），所以无法实现为类的成员函数，只能是全局函数。为了让这个全局函数能访问类的私有数据来完成输出，就必须将其声明为友元。

但同时，我也认为**友元应谨慎使用**，因为它在一定程度上**破坏了类的封装性**，可能导致代码耦合度增高。在设计上，我会优先考虑使用公有接口。只有在像操作符重载这样必要、或者能显著简化设计的场景下，才会使用友元。它是一个解决特定问题的强大工具，而非通用的设计模式。



为什么构造函数不能是虚函数，为什么析构函数得是虚函数

深拷贝与浅拷贝的区别

HTTP与HTTPS的区别，TLS的握手过程

## epoll的LT与ET的区别

“了解了它们的工作模式和编程范式后，我们就可以分析其优缺点和适用场景了。

| 特性         | 水平触发 (LT)                                                | 边缘触发 (ET)                                                |
| ------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **优点**     | **编程简单，不易出错**。事件不会轻易丢失，即使处理不当，下次还会通知。 | **效率极高**。内核通知次数显著减少，避免了大量冗余的`epoll_wait`系统调用和上下文切换，降低了CPU消耗。特别适合处理大量连接且数据交换频繁的场景。 |
| **缺点**     | **效率相对较低**。如果一个fd的缓冲区一直有数据，内核会反复通知，可能导致不必要的`epoll_wait`唤醒。在负载高时，这种“骚扰”会增加CPU负担。 | **编程复杂，容易出错**。最常见的错误就是忘记循环读写，导致“事件饥饿”（Event Starvation），即缓冲区里明明有数据，但因为没有新的事件到来，应用层就永远不知道，导致连接假死。 |
| **适用场景** | 适用于业务逻辑相对简单，连接数不是极端海量，或者对程序**健壮性**要求高于极限性能的场景。例如，一些常规的业务服务器。Redis就是使用LT模式的一个著名例子。 | 适用于需要榨干系统性能的**超高并发、大流量**的场景。例如，高性能反向代理（如Nginx）、即时通讯（IM）服务器、游戏网关等。Nginx就是使用ET模式的典范。 |



TCP可靠性如何保证（seq、ack、滑动窗口、拥塞控制

手撕：判断一个数是否是完全平方数

#### 拼多多hr面

8.28 35min

自我介绍

还有其他offer吗

对各互联网大厂的评价

你更喜欢哪种企业氛围

为什么投递这个岗位

接受调剂

工作的地域偏好

怎么选择毕业后的第一份工作

你希望拿到什么样的薪资

了解拼多多的情况吗，你怎么看待11116，能接受11116吗

老家哪的，父亲母亲工作，国企还是私企，独生子吗

有女朋友吗

说说你受到的挫折

为啥入党

实习时有跟产品对接吗

如果项目需要delay你会怎么做

实习期间碰到的有挑战的事，你觉得有成就感的事

如果给offer，可以提前实习吗，最快啥时候正式入职

#### 拼多多四面

9.3 1h

聊两段实习，挺深入的，腾讯的有些回答不上来

## 后面聊到实习内容时，手撕了代码，输入两个队列，每个元素是带时间戳的消息，输出一个经过时间排序后的合并队列

+ 有序： 同上
+ 无序： 堆排序



总之，都是围绕实习内容展开，没有问基础知识，还是要求有自己的思考的

最后反问环节，问了为什么hr面是三面，面试官说他也不知道，可能时间排的就是这样的