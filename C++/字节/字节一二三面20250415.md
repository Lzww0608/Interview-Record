# 字节一二三面20250415

#### 一面+二面（连着2h左右）


vector的扩容怎么实现的

迭代器删除所用的函数

vector用迭代器删除后迭代器会不会失效

什么情况适合用vector什么情况适合用list

c++迭代器都是啥

讲下const

const int *p和int *const p区别

不同位置的static变量的区别

static一般什么时候用

static编译器层面的实现

share_ptr

## 如果要自己设计一个share_ptr，要包含哪些方法



new和malloc区别

malloc底层实现

## c++程序的内存分布



介绍c++多态

虚函数的底层实现

构造函数可不可以是虚函数

为什么构造函数不能是虚函数

析构函数可不可以是虚函数

虚函数表在什么时候初始化

## tcp报文的首部有哪些字段



https的加密



怎么保持登录状态(sessioncookie)



## session的底层实现



## 虚拟内存共享内存驻留内存

虚拟内存是一种**逻辑上的抽象**，是操作系统为进程提供的内存视图，利用硬件（MMU）和磁盘空间扩展了物理内存的能力，并提供了保护和便利性。

共享内存是一种**具体的IPC技术**，让不同进程能直接访问**同一块物理内存**，以实现高速数据交换。它是建立在虚拟内存体系之上的（利用页表映射）。

驻留内存描述的是一个进程在**某一时刻实际占用物理RAM的部分**，是其虚拟内存中当前**物理上存在**的部分。它是一个动态变化的**状态量或测量值**，直接反映了进程对物理内存资源的消耗。



静态链接和动态链接



使索引生效，sql查询该语句怎么写



用过什么中间件(无)



堆排时间复杂度，稳不稳定



快排稳不稳定



二面时的智(数)力(学)题

## 和面试官抛硬币，一人一次，面试官先抛，先抛到正面朝上的胜，问面试官获胜的概率

2/3

## 有一个随机数生成器，生成0的概率是p，生成1的概率是1-p，要求用这个生成器实现等概率生成0和1

- `(0, 0)`：概率 `p²`
- `(0, 1)`：概率 `p(1-p)`
- `(1, 0)`：概率 `(1-p)p`
- `(1, 1)`：概率 `(1-p)²`



写代码
一面
给一串数字串，将数字串转化为ip地址，给出所有可能结果(简单dfs)
bst权值第k小
二面
给一段未缩进的xml代码，输出代码缩进的结果，标签内无内容不缩进，如

#### 三面(30min)

开场先是几分钟的闲聊，然后正式开始：

面试官：计算机基础都擅长哪些？
我：操作系统…吧
面试官：那来问问你操作系统
我：(？大意了，该说数据结构的)

物理内存和虚拟内存区别

物理地址和虚拟地址区别

为什么要用虚拟地址

## 如果只有2gb内存，有一个4gb大小的程序，怎么运行？



## (接上一题)如果不使用虚拟内存，能不能运行成功？为什么能运行成功，怎么做到的？

1. **程序结构设计**: 程序的开发者必须精心设计程序的结构，将其分解为根段和一系列覆盖段。关键在于，确保**任何时候同时需要驻留在内存中的（根段 + 活动覆盖段）的总大小不超过2GB**。
2. **覆盖管理器**: 程序需要包含（或链接）一个覆盖管理器，负责处理覆盖段的加载和替换逻辑。
3. **编译链接支持**: 编译器和链接器需要支持生成覆盖结构的可执行文件。链接器需要知道哪些模块属于哪个覆盖段，以及它们应该被加载到内存的哪个固定区域。



介绍一下协程



僵尸进程是什么



## 文件描述符是什么

文件描述符（FD）是一个内核分配给进程的非负整数，作为访问打开文件或I/O资源（如socket、pipe）的句柄。它是进程与内核进行I/O操作（如`read`, `write`, `close`）的主要凭证。

内核为每个进程维护一个文件描述符表，FD就是这张表的索引。表项指向系统级的“打开文件表”条目，该条目记录了文件的当前偏移量、状态等，并最终指向文件的inode（包含元数据）。这种机制实现了I/O资源的统一管理和抽象。

关键点包括：

1. **进程私有**：FD在进程内唯一，但可通过`fork`继承或`dup`复制。
2. **内核结构**：涉及进程FD表 -> 系统打开文件表 -> inode表三层映射。
3. **标准FD**：0（stdin）、1（stdout）、2（stderr）是默认打开的。
4. **生命周期**：由`open`, `socket`等创建，必须由`close`释放以防资源泄漏。
5. **区别于FILE\***：FD是底层系统调用接口，`FILE*`是C库提供的带缓冲的高级封装。



## 有一个等概率生成0-4的随机数生成器，用这个生成器实现等概率生成0-6

**拒绝采样**



代码题：
给一个字符串，求最多包含k种字符的最长子串的长度
给一棵二叉树，一个集合，集合内是一些二叉树上的点，求集合内所有点的lca