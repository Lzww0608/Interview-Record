# 字节二面20250305

字节跳动 二面凉经

整体偏难，很多非常规问题，全程1.5小时。

自我介绍

项目中提到通过sdk的方式暴露给开发人员使用，但是如果你这个代码发生了变动所有其他人员都需要更新包，有什么方法让其他人非感知到地进行升级吗

在调用配置中心的时候，客户端是怎么感知到服务端的配置发生了变化的呢?

如果让你自己去实现，该怎么做，用哪种进程间的通信方式?

（我这里提到了消息队列的方式去拿）问 那这里是意思要用一个线程或进程去死循环查询这个队列吗?

如果是线程的话，是怎么获取到这个地址的数据的呢?

有没有接触过底层进程间通信的代码开发（问到这里我感觉可能已经凉了，我只是个sql boy啊）



## 匿名管道和文件管道的区别（这个有点冷门了）

| 特性         | 匿名管道 (Anonymous Pipe) | 文件管道 (Named Pipe / FIFO)    |
| ------------ | ------------------------- | ------------------------------- |
| **名称**     | 无名                      | 有名 (路径名)                   |
| **访问方式** | 文件描述符                | 路径名                          |
| **进程关系** | 亲缘进程                  | 任意进程                        |
| **创建方式** | `pipe()`                  | `mkfifo()`, `mknod()`           |
| **生命周期** | 临时，进程相关            | 持久，文件系统存在              |
| **持久性**   | 非持久                    | 持久                            |
| **适用场景** | 亲缘进程通信，Shell管道   | 任意进程通信，客户端-服务器     |
| **实现位置** | 主要在内存                | 文件系统 (路径名), 数据通常内存 |
| **复杂度**   | 简单                      | 稍复杂                          |



## fork的时候是否会创建fd

复制



刚才提到的配置中心，服务端是怎么主动推送消息的？

推送消息用事件驱动怎么去做?

epoll原理

看你用到了redis，如果是多主节点，分布在不同的机房，同步规则是啥?

写入的时候是只写最近机房的集群吗?其他机房集群有写入功能吗?还是只是读取

两端实习中有没有遇到sql查询优化的问题?



## 为什么会引起索引失效？最左前缀法则？

 如果创建了一个 **组合索引 (Composite Index)**，例如 `INDEX idx_name_age_city (name, age, city)`，那么在使用这个索引时，需要**遵循索引建立时的列的顺序**，并且查询条件要**从索引的最左边列开始，不能跳过中间的列**。



## 从b+树的角度去讲一讲，如果插入节点的时候达到了页上限，树结构怎么调整的(b树的自旋，这块忘了）





算法: lc301 删除无效括号 非常规hard题 没写出来 寄

整体上感觉都挺难的，尤其最后这个算法没见过而且还是个hard题，撕了25分钟没效果，寄。