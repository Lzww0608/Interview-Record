# 联想研究院20241104

## 1. 你平时有哪些场景会使用 C++，有哪些相关项目呢

1. 学习数据结构与算法
2. 算法竞赛编程
3. 基础组件设计：线程池、内存池、buffer、数据库、webserver网络编程





## 2. 如果一个子类继承了父类，这个子类在析构时（调用 delete 时），要考虑哪些因素？

1. 里面的变量会发生哪些事情？这些数据在子类和父类之间的关系是什么样的？
2. 作为程序员，要考虑哪些场景？
3. 具体来说，要怎么避免内存泄漏？

子类如果没有覆盖父类的数据成员，则会直接继承。因此析构时需要分别处理，需要将父类析构函数调整为虚函数。这样保证通过父类指针删除子类对象的时候能够调用到子类的析构函数。

尽量使用智能指针管理对象，避免父类和子类之间的`double free`问题。



## 谈了下实际项目中内存泄漏的排查过程





## 用户态到内核态



## pthread线程中调用系统调用，会进行上下文切换吗

**非阻塞系统调用**：如果一个线程在执行系统调用时不会被阻塞，且系统调用执行迅速（如 `getpid()` 或一些本地的计算操作），则不会发生上下文切换，线程继续执行下去。

**阻塞系统调用**：如果线程在系统调用期间阻塞（例如 `read()` 等需要等待外部事件的调用），线程会被操作系统挂起，调度器会选择其他可运行的线程。此时，发生了上下文切换。







## 动态链接了解吗，程序在执行时，它会不会被加载到内存？地址重定向了解吗？

会的。

**地址重定向**（Address Redirection）通常指的是将一个原本指向某个内存地址或资源的请求重定向到另一个地址或资源。

1. 动态链接重定向：从未解析的地址重定向到实际的内存地址。
2. 虚拟地址重定向：从虚拟地址重定向到物理地址。
3. 函数地址重定向：比如函数指针和hook