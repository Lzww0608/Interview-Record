# 微保后台20241228

### 一面（部分）：

聊实习：

聊项目：

## 为什么学Go



## 了解内存泄漏吗？有什么危害？

1. goroutine没有结束
2.  channel，文件，连接等未关闭
3. 全局变量持有不再使用的资源，闭包捕获



## 一道很简单的Go题目，Go怎么做深拷贝。

1. 手动编写copy
2.  JSON序列化
3.  反射，`copier`



## Map是线程安全的吗？怎么解决并发安全问题？

1. mutex 写多
2. sync.Map 读多



## sync.Map 怎么解决线程安全问题？看过源码吗？

read 原子操作

dirty 加锁



## copy是操作符还是内置函数

函数



## slice的底层原理

指针、长度、 容量



## map的底层原理

哈希、分桶、链地址冲突、渐进式扩容



## 假设需要启动MongoDB，在linux下怎么设置只能启动一个？



## 现在对什么感兴趣？



## Go里面一个协程能保证绑定在一个内核线程上面的。



## 自己搭过数据库之类的吗，比如Mongo，MySQL。



## defer的执行顺序



## defer A ; defer B ; defer panic(“”) A和B能不能执行到

可以



## 怎么在10万个数中找最大的10个数

堆排序



没有手撕没有反问

### 二面（部分）：

聊了一点项目：

## Go切片和数组之间的区别

1. 大小，长度和容量
2. 传参，深拷贝浅拷贝
3. 堆、栈



## 切片怎么扩容

小于1024翻倍，大于1.5/1.25 



## 扩容过程中需不需要重新写入

需要



## 线程和进程怎么看



## Go的协程可以不可以自己让出cpu

可以

- **runtime.Gosched():** 显式让出 CPU。
- **阻塞操作:** 隐式让出 CPU，例如通道操作、I/O 操作等。
- **time.Sleep(0):** 放弃当前时间片。



## Go的协程可以只挂在一个线程上面吗

调用 runtime.LockOSThread() 会将 **当前正在执行的 goroutine** 绑定到 **当前正在执行它的操作系统线程** 上。 这意味着，只要这个 goroutine 没有调用 runtime.UnlockOSThread()，它就会一直在这个线程上执行，即使发生阻塞或让出 CPU 的情况。



## 一个协程挂起换入另外一个协程是什么过程？

yield、保存上下文、调度、换新协程



## 分页和分段内存管理有什么区别

- **分页 (Paging):** 将逻辑地址空间和物理地址空间都划分为固定大小的单元，称为**页 (page)** 和 **帧 (frame)**。页的大小通常是 2 的幂次方（例如 4KB）。逻辑地址被划分为页号和页内偏移。物理内存被划分为相同大小的帧。
- **分段 (Segmentation):** 将逻辑地址空间划分为逻辑上相关的可变大小的单元，称为**段 (segment)**。例如，代码段、数据段、堆栈段等。每个段代表程序的一个逻辑部分。**逻辑地址被划分为段号和段内偏移。物理内存仍然是连续的，但分配给段的空间大小是可变的。**



- **分页:** 主要目的是解决**外部碎片问题**，允许进程的物理内存分配不连续，从而更有效地利用内存。
- **分段:** 主要目的是为了更好地支持程序的**逻辑结构**，方便程序的编写、编译、链接、加载和共享，并提供更细粒度的保护机制。



## 内存泄漏和内存溢出的区别

+  内存泄漏是指程序在动态分配内存后，**无法释放已经不再使用的内存**，导致这些内存无法被再次利用。随着程序的运行，泄漏的内存会不断累积，最终可能耗尽所有可用内存，导致程序运行缓慢甚至崩溃。
+ 内存溢出是指程序试图**访问或写入超出其分配的内存边界**的区域。这通常发生在尝试向固定大小的缓冲区写入过多数据时。



假如一个数组，由10个数，现在只剩8个数，找出剩下的俩个数？这10个数是有某种顺序或者规律吗？

没有。。。。。

那不会

那就有规律把，比如1-10.

假设这个世界是重男轻女，生了女孩后一定会再生，生了男孩后就停，从概率论的角度分析一下将来这

个世界是男多还是女多

你怎么看待世界新冠疫情？

你觉得新冠疫情期间，中医扮演了什么样的作用？emmm…………….我佛了

### 三面：

1. 实习和项目相关

2. 为什么学Go

3. Go和C++有什么区别？

4. 想过未来的工作嘛？

5. 了解保险嘛？不了解。。。。。

6. MongoDB怎么做备份？

7. MongoDB怎么解决写入失败问题？

   1. 有意向城市嘛？

      

   2. 可以先来实习嘛？什么时候？

   会谈一些对实习公司以及微保业务方面的了解