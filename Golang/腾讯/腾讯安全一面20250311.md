# 腾讯安全一面20250311

全长：1小时15分钟
全程项目细节追问一点八股都没有，挑点有意思的写写

## 项目并发量/用户使用量增多了，需要做什么数据库操作适应？

1. 建立索引
2. Redis缓存
3. 读写分离



## 项目的接口安全性校验有做过吗？

是的，项目的接口安全性校验是有做的。在用户登录接口中，采用了基于 Token 的身份验证方法1。

用户在登录时，需要提供用户名和密码。如果验证成功，服务器会返回一个 Token。后续客户端请求其他接口时，需要在请求中携带这个 Token。服务器通过验证 Token 来确认请求是否来自合法的客户端，从而保证接口的安全性。这种基于 Token 的身份验证方法，在服务端无需存储用户的登录记录。



## 如果要做数据库的同步，怎么做会比较好？

1. 基于缓存
2. 主从复制
3. 消息队列



## 有了解过Mysql中的修改操作的底层逻辑吗？(答Cache落盘那些东西)





## 事务在你的项目中不会导致并发性问题吗？为什么要用事务？

会的。事务的核心是隔离性。事务是保证数据 **ACID** 特性的重要机制。为了实现事务的隔离性，数据库系统使用了锁机制，这**可能会导致并发性问题**，例如阻塞和死锁。 然而，在许多关键业务场景下，**必须使用事务**才能保证数据的原子性、一致性和隔离性，例如金融交易、订单处理、库存管理等。



## Golang中的特性比如协程通信什么的讲一下？(问设计思想)

1. goroutine 轻量级协程
2. channel 通过通信来共享内存，避免锁竞争和数据竞争
3. go mod go doc go test等完整的工具链
4. 编译型、静态类型语言、垃圾回收、跨平台
5. 隐式接口：鸭子类型



## Golang中的GC有了解过吗？(问底层)



## 看到你的项目中有Golang调C的库进行交互，他们之间的通讯形式是什么？(问底层)

- **函数调用:** Go 代码调用 C 函数，通过 `cgo` 处理函数签名转换和调用约定。
- **数据类型转换与传递:** `cgo` 负责基本数据类型的映射，对于字符串、切片、结构体等复杂类型，需要进行显式的转换和内存管理。
- **内存管理:** 跨语言内存管理是复杂且容易出错的，需要特别注意内存泄漏和悬 dangling pointer 风险，建议在同一语言中管理内存，或使用 `C.malloc` 和 `C.free` 进行显式内存管理。
- **回调函数:** C 代码可以回调 Go 函数，通过 `//export` 指令将 Go 函数导出为 C 函数指针。



## Golang和C的交互那块它们的内存释放需要你去手动释放还是Golang的GC做了？(问底层)





题目：无顺序的数组找第K大的元素
写了最垃圾的n^2暴力解法，实际应该要大顶堆做nlogk，但面了1小时没力气想了
反问：是否暑期是否是目的倾向城市
总结：面的口干舌燥，感觉是在跟面试官battle方案，一堆业务问题和场景问题。
PS: 还好面之前抓紧时间吃了饭，不然下班直接面试这么久不吃东西，感觉要晕过去了。
结果：第二天晚上寄了。

