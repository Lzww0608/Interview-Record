# 腾讯社招20241225

### 一面:

## 1.go的调度

GMP 抢占式



## 2.go struct能不能比较？

只能`==` , `!=` 且不能包含无法比较的字段`map`, `slice`, `func`  自定义比较器或者`reflect.DeepEqual`



## 3.go defer（for defer）





## 4.select可以用于什么？

1. 并发处理多个`channel`
2. 通过`default`实现非阻塞
3. 设置超时机制



## 5.context包的用途？

跨协程传递消息，取消信号、截止时间



## 6.client如何实现长连接？

1. 基于TCP，不主动断开，客户端发送心跳包，自动重连
2. MQTT



## 7.主协程如何等其余协程完再操作

1. `sync.WaitGroup`
2. 利用`channel`向主协程发送信号通知
3. `sync.Once`



## 8.slice，len，cap，共享，扩容



## 9.map如何顺序读取？

放到`slice`中



## 10.实现set

1. 开源库`redblacktree`



## 11.实现消息队列（多生产者，多消费者）





## 12.大文件排序

多路归并



## 13.基本排序，哪些是稳定的

快排，希尔，堆排，选择



## 14.http get跟head

- **GET:** GET 请求用于**请求服务器发送回所请求资源的完整内容**，包括响应头 (Headers) 和响应体 (Message Body)。服务器会返回资源的实体内容，例如 HTML 文档、图片、JSON 数据等。
- **HEAD:** HEAD 请求与 GET 请求类似，但服务器**只返回响应头 (Headers)**，**不会返回响应体 (Message Body)**。 你可以把它看作是“获取资源头部信息”的请求。



## 15.http 401,403

401 客户端未授权

403 权限不够，拒绝访问



## 16.http keep-alive



## 17.http能不能一次连接多次请求，不等后端返回

1. `HTTP/1.1` 的 pipelining
2. `HTTP/2`及以上，多路复用技术



## 18.tcp与udp区别，udp优点，适用场景

可靠，字节流，面向连接，按序到达，拥塞控制，流量控制

实时性强可以丢包，游戏、音视频、DNS查询



## 19.time-wait的作用

可靠关闭。确定ACK报文被接受，防止新连接与旧连接数据包混淆。



## 20.数据库如何建索引

`CREATE INDEX ... ON ...(...)`



## 21.孤儿进程，僵尸进程

+ 孤儿进程：父进程在子进程之前异常终止或者正常退出，`init`进程为父进程
+ 僵尸进程：子进程已经终止，但是父进程没有回收，会占一个内存



## 22.死锁条件，如何避免

+ 临界资源互斥
+ 占有并等待
+ 不可抢占
+ 循环等待

破坏非抢占，资源排序

+ 死锁检测，剥夺进程资源
+ 死锁忽略，重启



## 23.linux命令，查看端口占用，cpu负载，内存占用，如何发送信号给一个进程

`netstat` `ss` `lsof`

`top` `htop`

`kill` `pkill`

24.git文件版本，使用顺序，merge跟rebase

`git log` `git show`

`git checkout`



### 二面:

1.项目实现爬虫的流程

2.爬虫如何做的鉴权吗？

3.怎么实现的分布式爬虫

4.电商系统图片多会造成带宽过高，如何解决？

5.micro服务发现

6.mysql底层有哪几种实现方式

7.channel底层实现

8.java nio和go 区别

9.读写锁底层是怎么实现的？

10.go-micro 微服务架构怎么实现水平部署的，代码怎么实现？

11.micro怎么用

12.怎么做服务发现的

13.mysql索引为什么要用B+树？

14.mysql语句性能评测？

15.服务发现有哪些机制

16.raft算法是那种一致性算法

17.raft有什么特点

18.当go服务部署到线上了，发现有内存泄露，该怎么处理

19还有一些非常底层的问题